<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/x-icon" href="assets/favicon.ico">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
  <link rel="stylesheet" href="dummy.css">
  <title>Rock Paper Scissors</title>
</head>

<body>
  <header class="my-md-3 d-flex align-items-center">
    <button class="btn btn-back"><a class="btn-back-link display-2 fw-bold text-decoration-none"
        href="#back">&lt;</a></button>
    <img class="logo" src="assets/logo.png" alt="logo">
    <p class="text-title h2 fw-bold text-uppercase">&nbsp; rock paper scissors</p>
  </header>
  <main class="container mx-auto">
    <div class="row row-cols-3 text-center">
      <div class="col my-md-2">
        <p class="h2 fw-bold text-uppercase">player 1</p>
      </div>
      <div class="col my-md-2"></div>
      <div class="col my-md-2">
        <p class="h2 fw-bold text-uppercase">COM</p>
      </div>
      <div class="col my-md-3">
        <button class="btn btn-play player" id="player-batu">
          <img src="assets/batu.png" alt="batu" width="100px" class="batu p-img" id="p-batu">
        </button>
      </div>
      <div class="col my-md-3"></div>
      <div class="col my-md-3">
        <button class="btn btn-play pe-none com" id="com-batu">
          <img src="assets/batu.png" alt="batu" width="100px" class="batu" id="c-batu">
        </button>
      </div>
      <div class="col my-md-3">
        <button class="btn btn-play player" id="player-kertas">
          <img src="assets/kertas.png" alt="kertas" width="100px" class="kertas p-img" id="p-kertas">
        </button>
      </div>
      <div class="col middle my-md-3">
        <div class="area-middle">
          <p class="text-middle display-1 fw-bolder text-uppercase text-danger">vs</p>
        </div>
      </div>
      <div class="col my-md-3">
        <button class="btn btn-play pe-none com" id="com-kertas">
          <img src="assets/kertas.png" alt="kertas" width="100px" class="kertas" id="c-kertas">
        </button>
      </div>
      <div class="col my-md-3">
        <button class="btn btn-play player" id="player-gunting">
          <img src="assets/gunting.png" alt="gunting" width="100px" class="gunting p-img" id="p-gunting">
        </button>
      </div>
      <div class="col my-md-3">
        <button class="btn">
          <img src="assets/refresh.png" alt="refresh" width="60px" id="refresh">
        </button>
      </div>
      <div class="col my-md-3">
        <button class="btn btn-play pe-none com" id="com-gunting">
          <img src="assets/gunting.png" alt="gunting" width="100px" class="gunting" id="c-gunting">
        </button>
      </div>
    </div>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous">
  </script>
  <script>
    // PLAYER
    const p_batu = document.getElementById("p-batu");
    const p_kertas = document.getElementById("p-kertas");
    const p_gunting = document.getElementById("p-gunting");
    const playerBatuBg = document.getElementById("player-batu");
    const playerKertasBg = document.getElementById("player-kertas");
    const playerGuntingBg = document.getElementById("player-gunting");

    // RESULT
    const area_middle = document.querySelector(".area-middle");
    const text_middle = document.querySelector(".text-middle");

    // COMPUTER
    const c_batu = document.getElementById("c-batu");
    const c_kertas = document.getElementById("c-kertas");
    const c_gunting = document.getElementById("c-gunting");
    const comBatuBg = document.getElementById("com-batu");
    const comKertasBg = document.getElementById("com-kertas");
    const comGuntingBg = document.getElementById("com-gunting");

    // PLAY AGAIM
    const refreshPage = document.getElementById("refresh");

    class Player {
      batu() {
        p_batu.addEventListener("click", () => {
          console.log(p_batu.id)
          const comShuffle = [c_batu, c_kertas, c_gunting];
          const shuffle = comShuffle[Math.floor(Math.random() * comShuffle.length)].id;

          playerBatuBg.style.background = "#C4C4C4";

          function set(duration1, duration2, duration3) {
            setTimeout(() => {
              comBatuBg.style.background = "#C4C4C4";
              setTimeout(() => {
                comBatuBg.style.background = "";
              }, 300)
            }, duration1)
            setTimeout(() => {
              comKertasBg.style.background = "#C4C4C4";
              setTimeout(() => {
                comKertasBg.style.background = "";
              }, 300)
            }, duration2)
            setTimeout(() => {
              comGuntingBg.style.background = "#C4C4C4";
              setTimeout(() => {
                comGuntingBg.style.background = "";
              }, 300)
            }, duration3)
          }

          for (let i = 0; i < 10; i++) {
            if (i === 1) {
              set(300, 600, 900);
            } else if (i === 2) {
              set(1200, 1500, 1800);
            } else if (i === 3) {
              set(2100, 2400, 2700)
            } else if (i === 4) {
              set(3000, 3300, 3600)
            }
          }

          setTimeout(() => {
            comBatuBg.style.background = "#C4C4C4";
            setTimeout(() => {
              if (shuffle === "c_batu") {
                area_middle.className = "result-draw";
                text_middle.innerHTML = "DRAW";
                comBatuBg.style.background = "#C4C4C4";
                console.log("Hasil DRAW")
                setTimeout(() => {
                  if (confirm("Mau main lagi? GASSSS KLIK OK ðŸ”¥")) {
                    history.go(0);
                  } else {
                    return;
                  }
                }, 1500)
              } else {
                comBatuBg.style.background = "";
              }
            }, 300)
          }, 3900)

          if (shuffle === "c_batu") {
            return;
          }

          console.log(shuffle)

          setTimeout(() => {
            comKertasBg.style.background = "#C4C4C4";
            setTimeout(() => {
              if (shuffle === "c_kertas") {
                area_middle.className = "result";
                text_middle.innerHTML = "COM <br> WIN";
                comKertasBg.style.background = "#C4C4C4";
                console.log("COM WIN")
                setTimeout(() => {
                  if (confirm("Mau main lagi? GASSSS KLIK OK ðŸ”¥")) {
                    history.go(0);
                  } else {
                    return;
                  }
                }, 1500)
              } else {
                comKertasBg.style.background = "";
              }
            }, 300)
          }, 4200)

          if (shuffle === "c_kertas") {
            return;
          }

          setTimeout(() => {
            comGuntingBg.style.background = "#C4C4C4";
            setTimeout(() => {
              if (shuffle === "c_gunting") {
                area_middle.className = "result";
                text_middle.innerHTML = "PLAYER 1 <br> WIN";
                comGuntingBg.style.background = "#C4C4C4";
                console.log("PLAYER WIN");
                setTimeout(() => {
                  if (confirm("Mau main lagi? GASSSS KLIK OK ðŸ”¥")) {
                    history.go(0);
                  } else {
                    return;
                  }
                }, 1500)
              } else {
                comGuntingBg.style.background = "";
              }
            }, 300)
          }, 4500)
        })
      }

      kertas() {
        p_kertas.addEventListener("click", () => {
          console.log(p_kertas.id)
          const comShuffle = [c_batu, c_kertas, c_gunting];
          const shuffle = comShuffle[Math.floor(Math.random() * comShuffle.length)].id;
          console.log(shuffle)

          playerKertasBg.style.background = "#C4C4C4";

          function set(duration1, duration2, duration3) {
            setTimeout(() => {
              comBatuBg.style.background = "#C4C4C4";
              setTimeout(() => {
                comBatuBg.style.background = "";
              }, 300)
            }, duration1)
            setTimeout(() => {
              comKertasBg.style.background = "#C4C4C4";
              setTimeout(() => {
                comKertasBg.style.background = "";
              }, 300)
            }, duration2)
            setTimeout(() => {
              comGuntingBg.style.background = "#C4C4C4";
              setTimeout(() => {
                comGuntingBg.style.background = "";
              }, 300)
            }, duration3)
          }

          for (let i = 0; i < 10; i++) {
            if (i === 1) {
              set(300, 600, 900);
            } else if (i === 2) {
              set(1200, 1500, 1800);
            } else if (i === 3) {
              set(2100, 2400, 2700)
            } else if (i === 4) {
              set(3000, 3300, 3600)
            }
          }

          setTimeout(() => {
            comBatuBg.style.background = "#C4C4C4";
            setTimeout(() => {
              if (shuffle === "c_batu") {
                area_middle.className = "result";
                text_middle.innerHTML = "PLAYER 1 <br> WIN";
                comBatuBg.style.background = "#C4C4C4";
                console.log("PLAYER WIN");
                setTimeout(() => {
                  if (confirm("Mau main lagi? GASSSS KLIK OK ðŸ”¥")) {
                    history.go(0);
                  } else {
                    return;
                  }
                }, 1500)
              } else {
                comBatuBg.style.background = "";
              }
            }, 300)
          }, 3900)

          if (shuffle === "c_batu") {
            return;
          }



          setTimeout(() => {
            comKertasBg.style.background = "#C4C4C4";
            setTimeout(() => {
              if (shuffle === "c_kertas") {
                area_middle.className = "result-draw";
                text_middle.innerHTML = "DRAW";
                comKertasBg.style.background = "#C4C4C4";
                console.log("DRAW");
                setTimeout(() => {
                  if (confirm("Mau main lagi? GASSSS KLIK OK ðŸ”¥")) {
                    history.go(0);
                  } else {
                    return;
                  }
                }, 1500)
              } else {
                comKertasBg.style.background = "";
              }
            }, 300)
          }, 4200)

          if (shuffle === "c_kertas") {
            return;
          }

          setTimeout(() => {
            comGuntingBg.style.background = "#C4C4C4";
            setTimeout(() => {
              if (shuffle === "c_gunting") {
                area_middle.className = "result";
                text_middle.innerHTML = "COM WIN";
                comGuntingBg.style.background = "#C4C4C4";
                console.log("COM WIN");
                setTimeout(() => {
                  if (confirm("Mau main lagi? GASSSS KLIK OK ðŸ”¥")) {
                    history.go(0);
                  } else {
                    return;
                  }
                }, 1500)
              } else {
                comGuntingBg.style.background = "";
              }
            }, 300)
          }, 4500)
        })
      }

      gunting() {
        p_gunting.addEventListener("click", () => {
          console.log(p_gunting.id)
          const comShuffle = [c_batu, c_kertas, c_gunting];
          const shuffle = comShuffle[Math.floor(Math.random() * comShuffle.length)].id;
          console.log(shuffle)

          playerGuntingBg.style.background = "#C4C4C4";

          function set(duration1, duration2, duration3) {
            setTimeout(() => {
              comBatuBg.style.background = "#C4C4C4";
              setTimeout(() => {
                comBatuBg.style.background = "";
              }, 300)
            }, duration1)
            setTimeout(() => {
              comKertasBg.style.background = "#C4C4C4";
              setTimeout(() => {
                comKertasBg.style.background = "";
              }, 300)
            }, duration2)
            setTimeout(() => {
              comGuntingBg.style.background = "#C4C4C4";
              setTimeout(() => {
                comGuntingBg.style.background = "";
              }, 300)
            }, duration3)
          }

          for (let i = 0; i < 10; i++) {
            if (i === 1) {
              set(300, 600, 900);
            } else if (i === 2) {
              set(1200, 1500, 1800);
            } else if (i === 3) {
              set(2100, 2400, 2700)
            } else if (i === 4) {
              set(3000, 3300, 3600)
            }
          }

          setTimeout(() => {
            comBatuBg.style.background = "#C4C4C4";
            setTimeout(() => {
              if (shuffle === "c_batu") {
                area_middle.className = "result";
                text_middle.innerHTML = "COM WIN";
                comBatuBg.style.background = "#C4C4C4";
                console.log("COM WIN");
                setTimeout(() => {
                  if (confirm("Mau main lagi? GASSSS KLIK OK ðŸ”¥")) {
                    history.go(0);
                  } else {
                    return;
                  }
                }, 1500)
              } else {
                comBatuBg.style.background = "";
              }
            }, 300)
          }, 3900)

          if (shuffle === "c_batu") {
            return;
          }



          setTimeout(() => {
            comKertasBg.style.background = "#C4C4C4";
            setTimeout(() => {
              if (shuffle === "c_kertas") {
                area_middle.className = "result";
                text_middle.innerHTML = "PLAYER 1 <br> WIN";
                comKertasBg.style.background = "#C4C4C4";
                console.log("Player WIN");
                setTimeout(() => {
                  if (confirm("Mau main lagi? GASSSS KLIK OK ðŸ”¥")) {
                    history.go(0);
                  } else {
                    return;
                  }
                }, 1500)
              } else {
                comKertasBg.style.background = "";
              }
            }, 300)
          }, 4200)

          if (shuffle === "c_kertas") {
            return;
          }

          setTimeout(() => {
            comGuntingBg.style.background = "#C4C4C4";
            setTimeout(() => {
              if (shuffle === "c_gunting") {
                area_middle.className = "result-draw";
                text_middle.innerHTML = "DRAW";
                comGuntingBg.style.background = "#C4C4C4";
                console.log("Hasil DRAW");
                setTimeout(() => {
                  if (confirm("Mau main lagi? GASSSS KLIK OK ðŸ”¥")) {
                    history.go(0);
                  } else {
                    return;
                  }
                }, 1500)
              } else {
                comGuntingBg.style.background = "";
              }
            }, 300)
          }, 4500)
        })
      }

      playAgain() {
        refreshPage.addEventListener("click", () => {
          history.go(0);
        })
      }
    }


    const main = new Player();


    main.batu();
    main.kertas();
    main.gunting();
    main.playAgain();
  </script>
</body>

</html>